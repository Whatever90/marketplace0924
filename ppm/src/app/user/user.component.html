<div class="container " *ngIf='user!=null'>
  <div class="btn-group btn-group-justified">
    <!-- <a href='#' class="btn btn-info cat" *ngIf='user._id!=cur_user_id'><h3>{{user.alias}}</h3></a> -->

    <a href='#' class="btn btn-info cat" *ngIf='user._id===cur_user_id' (click)="adding($event)">
      <h3>+ POST AN ITEM</h3>
    </a>
    <a href="#" class="btn btn-default">
      <h4>TOTAL OF ITEMS: {{products.length}}</h4>
    </a>
    <a href="#" (click)='showWishList()' class="btn btn-default" *ngIf='user.wishList && user.wishList.length>0'>
      <h4>WISH LIST {{user.wishList.length}}</h4>
    </a>
    <a href="#" disabled class="btn btn-default" *ngIf='!user.wishList || user.wishList.length==0'>
      <h4>Wish list is empty</h4>
    </a>
    <a [routerLink]="['/conversation']" *ngIf='user._id===cur_user_id' class="btn btn-default">
      <h4>Conversations</h4>
    </a>
  </div>
  <div class='container-body'>
    <div id='user_mid'>
      <div id='user_mid1'>
        <div class="list-group-item">
          <h2>{{user.alias}}</h2>
        </div>
        <div class="list-group-item">
          <h4>GOOGLE MAP</h4>
          <p *ngIf='products.length>0'> {{products[products.length-1].location}}</p>
        </div>
      </div>
      <div id='user_mid2'>
        <!-- PRODUCT ADDING FORM -->
        <div class='new_product_box'>
          <!-- *ngIf='adder' add this-->

          <form name='productForm' (submit)="adding_submit()" #productForm="ngForm">
            <div class='new_product_form_top'>
              <h3 class="panel-title">Post a product</h3>
              <div class='new_product_form_top_row'>
                <div>
                  <label for="title">Title</label>
                  <input type="text" class="form-control" id="title" required [(ngModel)]="product.title" name="title">
                </div>

                <div>
                  <label for="price">Price</label>
                  <input type="number" class="form-control" id="price" [(ngModel)]="product.price" name="price">
                </div>
                <div>
                  <label for="location">Location</label>
                  <input type="number" class="form-control" id="location" [(ngModel)]="product.location" name="location">
                </div>
                <div>
                  <label for="category">Category</label>
                  <select class="form-control" id="category" 
                        required>
                  <option *ngFor="let category of categories" [value]="category">{{category}}</option>
                </select>
                </div>
              </div>


              <div class='new_product_form_top_row'>
                <label for="description">Description</label>
                <textarea type="text" class="form-control" id="description" required [(ngModel)]="product.description"
                  name="description"></textarea>
              </div>
            </div>
            <div class='new_product_form_bottom'>
              <div class="form-group">
                <label for="file">Choose File</label>
                <input type="file" id="file" (change)="handleFileInput($event.target)" accept=".jpg, .jpeg, .png">
              </div>
              <div class='new_product_form_bottom_images_list'>
                  <img *ngFor='let img of product.images' src={{img}}>
              </div>
            </div>
          </form>
        </div>


        <div class="shop-tab" *ngIf='!adder && products.length>0'>
          <div class="col-md-3" *ngFor='let p of products'>
            <a [routerLink]="['/product', p._id]">
              <span class="thumbnail">
                <img class='product-img' src={{p.images[0]}} alt="...">
                <h4>{{p.title}}</h4>
                <p class='product-description'>{{p.description}}</p>
                <hr class="line">
                <div class="row">
                  <div class="col-md-6 col-sm-6">
                    <p class="price" *ngIf='p.price>0'>${{p.price}}</p>
                    <p class="price" *ngIf='p.price==0'>FREE</p>
                  </div>
                </div>
              </span>
            </a>
          </div>
        </div>
        <!-- Product list END -->

        <!-- Empty list -->
        <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 shop-tab" *ngIf='!adder && products.length===0'>
          <h2>Nothing for sale</h2>
        </div>

      </div>
    </div>
  </div>
</div>